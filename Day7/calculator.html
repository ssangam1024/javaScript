<!DOCTYPE html>
<html>
    <head>
        <title> Calculator </title>
    </head>
    <body>
        <p>
            <button onclick=" updateCalculation ('1');"> 1 </button>
            <button onclick="updateCalculation ('2');"> 2 </button>
            <button onclick="updateCalculation ('3');"> 3 </button>
            <button onclick="updateCalculation ('+');"> + </button>
        </p>
        <p>
            <button onclick="updateCalculation ('4');"> 4 </button>
            <button onclick="updateCalculation ('5');"> 5 </button>
            <button onclick="updateCalculation ('6');"> 6 </button>
            <button onclick="updateCalculation ('-');"> - </button>
        </p>
        <p>
            <button onclick="updateCalculation ('7');"> 7 </button>
            <button onclick="updateCalculation ('8');"> 8 </button>
            <button onclick="updateCalculation ('9');"> 9 </button>
            <button onclick="updateCalculation ('*');"> * </button>
        </p>
        <p>
            <button onclick="updateCalculation ('0');"> 0 </button>
            <button onclick="updateCalculation ('.');"> . </button>
            <button onclick="calculateResult()"> = </button>
            <button onclick="updateCalculation ('/');"> / </button>
        </p>
        <p>
            <button onclick="clearCalculation();"> Clear </button>
        </p>
        <p class="js-calculation"> total: 0</p>
        
        <script>
            
            let calculation = localStorage.getItem('calculation')|| '';

            document.querySelector('.js-calculation')
            .innerHTML =`total: ${calculation}`

            function updateCalculation (value){
                calculation += value ;
                document.querySelector('.js-calculation')
                .innerHTML =`total: ${calculation}`
                localStorage.setItem('calculation',calculation);                                
            } 
            function calculateResult() {
                try {
                    calculation = eval(calculation).toString();
                    document.querySelector('.js-calculation').innerHTML = `total: ${calculation}`;
                    localStorage.setItem('calculation', calculation);
                } catch {
                    alert('Invalid calculation');
                }
            }
            function clearCalculation() {
                calculation = '';
                document.querySelector('.js-calculation').innerHTML = `total: 0`;
                localStorage.setItem('calculation', calculation);
            }            
        </script>
    </body>
</html>